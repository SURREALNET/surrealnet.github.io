(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{338:function(e,t,r){"use strict";r.r(t);var n=r(9),o=(r(47),r(29),r(201),r(40),r(15),{name:"createJob",data:function(){return{job:{url:"",mainKeyword:"",description:"",htmlLang:"",status:"open"},languages:["de","en"],showError:!1,errorMessage:""}},asyncData:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$auth,n=e.$axios,o=r.strategy.token.get().split(" ")[1],n.setHeader("x-access-token",o),t.next=5,n.get("/domains/domains").then((function(e){return e.data}));case 5:return l=t.sent,t.abrupt("return",{domains:l.filter((function(e){return 200!==e.sitemap_status_code}))});case 7:case"end":return t.stop()}}),t)})))()},methods:{createJob:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$auth.strategy.token.get().split(" ")[1],e.$axios.setHeader("x-access-token",r),t.next=4,e.$axios.post("/jobs/create",{job:e.job});case 4:"ok"===(n=t.sent).data.status?e.$router.push("/dashboard"):(e.errorMessage=n.data.msg,e.showError=!0);case 6:case"end":return t.stop()}}),t)})))()}}}),l=r(16),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.createJob.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"urls"}},[e._v("URL")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.job.url,expression:"job.url"}],staticClass:"form-control",attrs:{name:"urls",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.job,"url",t.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",value:"",selected:""}},[e._v("Please select one")]),e._v(" "),e._l(e.domains,(function(t,n){return r("option",{key:n,domProps:{value:t.url}},[e._v("\n              "+e._s(t.url)+"\n            ")])}))],2),e._v(" "),r("small",{staticClass:"form-text text-muted"},[e._v("Add the full url like https://www.fahrradbekleidung24.net")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"htmlLang"}},[e._v("Language")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.job.htmlLang,expression:"job.htmlLang"}],staticClass:"form-control",attrs:{name:"htmlLang",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.job,"htmlLang",t.target.multiple?r:r[0])}}},[r("option",{attrs:{disabled:"",value:"",selected:""}},[e._v("Please select one")]),e._v(" "),e._l(e.languages,(function(t,n){return r("option",{key:n,domProps:{value:t}},[e._v("\n              "+e._s(t)+"\n            ")])}))],2),e._v(" "),r("small",{staticClass:"form-text text-muted"},[e._v('Set the html language. If it will be a german site for example,\n            then choose "de"')])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"mainKeyword"}},[e._v("Main Keyword")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.job.mainKeyword,expression:"job.mainKeyword"}],staticClass:"form-control",attrs:{name:"mainKeyword",type:"textarea",required:""},domProps:{value:e.job.mainKeyword},on:{input:function(t){t.target.composing||e.$set(e.job,"mainKeyword",t.target.value)}}}),e._v(" "),r("small",{staticClass:"form-text text-muted"},[e._v("Define the main keyword for that site. eg:\n            'fahrradbekleidung'")])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"mainKeyword"}},[e._v("Job description or extra notes")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.job.description,expression:"job.description"}],staticClass:"form-control",attrs:{name:"mainKeyword",type:"text",required:""},domProps:{value:e.job.description},on:{input:function(t){t.target.composing||e.$set(e.job,"description",t.target.value)}}}),e._v(" "),r("small",{staticClass:"form-text text-muted"},[e._v("Leave a description for the user who accepts this job.")])]),e._v(" "),e.showError?r("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[e._v("\n          "+e._s(e.errorMessage)+"\n        ")]):e._e(),e._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("Save")])])])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-sm-flex align-items-center justify-content-between mb-4"},[r("h1",{staticClass:"h3 mb-0 text-gray-800"},[e._v("Create Job")])])}],!1,null,null,null);t.default=component.exports}}]);